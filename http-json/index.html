<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Fetching JSON - Fuse Examples</title>
    <link rel="stylesheet" href="https://fuse-open.github.io/examples/bootstrap.css">
    <link rel="stylesheet" href="https://fuse-open.github.io/examples/prism.css">
    <link rel="stylesheet" href="https://fuse-open.github.io/examples/site.css">
  </head>

  <body>

    <nav class="navbar navbar-dark bg-dark flex-md-nowrap">
      <a class="navbar-brand" href="https://fuse-open.github.io/examples/">Fuse: Examples</a>
    </nav>

    <div class="container-fluid main-content-wrapper">
      <div class="row">
        <div class="col-md-2 d-none d-md-block bg-light sidebar">
          <div class="sidebar-sticky">
            <p class="example-back-link">
&lt; <a href="../index.html">Go back</a>
</p>
<p class="example-download-link">
<a href="../bundles/http-json.zip" class="btn btn-primary btn-block">Download example</a>
</p>
<h6>Tags</h6>
<p class="example-tags">
<a href="../tag_javascript.html">JavaScript</a>
</p>
<h6>UX Concepts</h6>
<ul class="nav flex-column concepts-nav">
<li class="nav-item"><a href="https://fuse-open.github.io/docs/fuse/controls/scrollview.html" class="nav-link">ScrollView</a></li>
<li class="nav-item"><a href="https://fuse-open.github.io/docs/fuse/reactive/each.html" class="nav-link">Each</a></li>
<li class="nav-item"><a href="https://fuse-open.github.io/docs/fuse/controls/grid.html" class="nav-link">Grid</a></li>
<li class="nav-item"><a href="https://fuse-open.github.io/docs/fuse/reactive/databinding.html" class="nav-link">Data-binding</a></li>
</ul>

<h6>JS Concepts</h6>
<ul class="nav flex-column concepts-nav">
<li class="nav-item"><a href="https://fuse-open.github.io/docs/fusejs/observable.html" class="nav-link">Observable</a></li>
<li class="nav-item"><a href="https://fuse-open.github.io/docs/fusejs/http.html#fetch" class="nav-link">fetch</a></li>
<li class="nav-item"><a href="https://fuse-open.github.io/docs/fusejs/bundle.html" class="nav-link">json</a></li>
</ul>


          </div>
        </div>
        <div role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4 main-content">
          <h1>Fetching JSON</h1>

          <div class="example-content-preview example-content-preview-slot-5">
<img src="media/preview.png" alt="">
</div>
<div class="example-content-body">
<p>A tiny example of how to download a JSON file over HTTP, parse it and populate the user interface based on the contents.</p>
<!-- snippet-begin:code/MainView.ux:AppUX -->
<pre><code>&lt;App Background=&quot;#eee&quot;&gt;
    &lt;DockPanel&gt;
        &lt;StatusBarBackground Dock=&quot;Top&quot; /&gt;
        &lt;BottomBarBackground Dock=&quot;Bottom&quot; /&gt;
        &lt;ScrollView&gt;
            &lt;Grid ColumnCount=&quot;2&quot;&gt;
                &lt;JavaScript&gt;
                    var Observable = require(&quot;FuseJS/Observable&quot;);

                    var data = Observable();

                    fetch('https://gist.githubusercontent.com/petterroea/5ed146454706990ea8386f147d592eff/raw/b157cfed331da3cb88150051ab74aa131022fef8/colors.json')
                        .then(function(response) { return response.json(); })
                        .then(function(responseObject) { data.replaceAll(responseObject); });

                    module.exports = {
                        data: data
                    };
                &lt;/JavaScript&gt;
                &lt;Each Items=&quot;{data}&quot;&gt;
                    &lt;DockPanel Height=&quot;120&quot; Margin=&quot;10&quot;&gt;
                        &lt;Panel DockPanel.Dock=&quot;Top&quot; Margin=&quot;10&quot; Height=&quot;30&quot;&gt;
                            &lt;Rectangle Layer=&quot;Background&quot; CornerRadius=&quot;10&quot; Color=&quot;#fff&quot;/&gt;
                            &lt;Text Value=&quot;{colorName}&quot; TextAlignment=&quot;Center&quot; Alignment=&quot;Center&quot; /&gt;
                        &lt;/Panel&gt;

                        &lt;Rectangle Layer=&quot;Background&quot; CornerRadius=&quot;10&quot; Color=&quot;{hexValue}&quot;/&gt;
                    &lt;/DockPanel&gt;
                &lt;/Each&gt;
            &lt;/Grid&gt;
        &lt;/ScrollView&gt;
    &lt;/DockPanel&gt;
&lt;/App&gt;
</code></pre>
<!-- snippet-end -->
<p>The UX is pretty straight forward, we have an <code>Each</code> bound to <code>{data}</code> which represents the color array in the JSON file. For each entry in the file it creates a panel with color and text fetched from the JSON data:</p>
<p>The JavaScript simply fetches the JSON file and exposes it through the <code>Observable</code> data variable which is exposed to the UX code.</p>
<p>The JSON file looks like this:</p>
<pre><code>[
    {
        &quot;colorName&quot;:&quot;Red&quot;,
        &quot;hexValue&quot;:&quot;#F44336&quot;
    },
    {
        &quot;colorName&quot;:&quot;Pink&quot;,
        &quot;hexValue&quot;:&quot;#E91E63&quot;
    },
    {
        &quot;colorName&quot;:&quot;Purple&quot;,
        &quot;hexValue&quot;:&quot;#9C27B0&quot;
    },
    {
        &quot;colorName&quot;:&quot;Deep purple&quot;,
        &quot;hexValue&quot;:&quot;#673AB7&quot;
    },
    {
        &quot;colorName&quot;:&quot;Indigo&quot;,
        &quot;hexValue&quot;:&quot;#3F51B5&quot;
    },
    {
        &quot;colorName&quot;:&quot;Blue&quot;,
        &quot;hexValue&quot;:&quot;#2196F3&quot;
    },
    {
        &quot;colorName&quot;:&quot;Light blue&quot;,
        &quot;hexValue&quot;:&quot;#03A9F4&quot;
    },
    {
        &quot;colorName&quot;:&quot;Cyan&quot;,
        &quot;hexValue&quot;:&quot;#00BCD4&quot;
    }
]
</code></pre>

</div>

        </div>
      </div>
    </div>

    <script type="text/javascript" src="https://fuse-open.github.io/examples/jquery.js"></script>
    <script type="text/javascript" src="https://fuse-open.github.io/examples/popper.js"></script>
    <script type="text/javascript" src="https://fuse-open.github.io/examples/bootstrap.js"></script>
    <script type="text/javascript" src="https://fuse-open.github.io/examples/prism.js"></script>
    <script type="text/javascript" src="https://fuse-open.github.io/examples/site.js"></script>
  </body>
</html>
